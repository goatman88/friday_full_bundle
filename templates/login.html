<!DOCTYPE html>
<html><head><meta charset="utf-8"><title>{{ title or "Login" }}</title></head>
<body style="font-family:system-ui;max-width:560px;margin:40px auto">
  <h2>Friday Login</h2>
  <p><label>Email <input id="email"></label></p>
  <p><label>Password <input id="pwd" type="password"></label></p>
  <p>
    <button id="login">Login</button>
    <button id="register">Register</button>
  </p>
  <pre id="out"></pre>
<script>
const out = document.querySelector("#out");
function show(x){ out.textContent = JSON.stringify(x,null,2); }
document.querySelector("#login").onclick = async ()=>{
  const email = document.querySelector("#email").value;
  const password = document.querySelector("#pwd").value;
  const r = await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email,password})});
  const j = await r.json(); show(j);
};
document.querySelector("#register").onclick = async ()=>{
  const email = document.querySelector("#email").value;
  const password = document.querySelector("#pwd").value;
  const r = await fetch("/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email,password})});
  const j = await r.json(); show(j);
};
</script>
</body></html>
