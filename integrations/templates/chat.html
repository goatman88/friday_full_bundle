<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Friday Chat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body { font-family: system-ui, Arial, sans-serif; margin: 24px; }
      #chatBox div { margin: 6px 0; }
      #chatBox b { display: inline-block; min-width: 70px; }
      #send { margin-left: 8px; }
    </style>
  </head>
  <body>
    <h2>Friday</h2>

    <div id="chatBox"></div>

    <div style="margin-top:12px;">
      <input id="userInput" placeholder="Type a message..." style="width:70%;" />
      <button id="send" onclick="sendMessage()">Send</button>
    </div>

    <script>
      async function sendMessage() {
        const inputEl = document.getElementById("userInput");
        const chatBox = document.getElementById("chatBox");
        const text = (inputEl.value || "").trim();
        if (!text) return;

        chatBox.innerHTML += `<div><b>You:</b> ${text}</div>`;
        inputEl.value = "";

        try {
          const res = await fetch("/api/chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message: text })
          });

          const data = await res.json();
          if (data.reply) {
            chatBox.innerHTML += `<div><b>Friday:</b> ${data.reply}</div>`;
          } else {
            chatBox.innerHTML += `<div><b>Error:</b> ${data.error || "Unknown error"}</div>`;
          }
        } catch (err) {
          chatBox.innerHTML += `<div><b>Error:</b> ${err}</div>`;
        }
      }
    </script>
  </body>
</html>













